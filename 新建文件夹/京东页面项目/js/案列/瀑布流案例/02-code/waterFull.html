<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .itemBox {
            width: 1050px;
            margin: 0 auto;
            position: relative;
        }

        .item {
            border: 1px solid #ccc;
            padding: 4px;
            position: absolute;
        }
    </style>
</head>

<body>
    <div class="itemBox">
        <div class="item">
            <img src="../02-code/images/P_000.jpg" alt="">
        </div>
        <div class="item">
            <img src="../02-code/images/P_001.jpg" alt="">
        </div>
        <div class="item">
            <img src="../02-code/images/P_002.jpg" alt="">
        </div>
        <div class="item">
            <img src="../02-code/images/P_003.jpg" alt="">
        </div>
        <div class="item">
            <img src="../02-code/images/P_004.jpg" alt="">
        </div>
        <div class="item">
            <img src="../02-code/images/P_005.jpg" alt="">
        </div>


    </div>
    <script>
        window.onload = function () {
            var itemBox = document.getElementsByClassName('box')
            var items = document.getElementsByClassName('box1')
            //1获取到.box宽度
            var itemBoxW = itemBox.offsetWidth;
            //2获取到.box1度
            var itemW = items[0].offsetWidth;
            //3求出列数
            var column = parseInt(itemBoxW / itemW)
            console.log(column);

            //4求出间距
            var distence = (itemBoxW - itemW * column) / (column - 1);
            //5实现瀑布流布局的方法
            // 定义一个存储每列高度的容器
            var arr = [];
            waterFull();

            //6滚动页面时加载数据


            // 实现瀑布流布局的方法
            function waterFull() {
                for (var i = 0; i < items.length; i++) {
                    if (i < column) {
                        box1[i].style.left = (items + distence) * i + 'px';
                        arr[i] = items[i].offsetHeight;
                         console.log(arr);
                    }
                }
            }
        }



    </script>


</body>

</html>